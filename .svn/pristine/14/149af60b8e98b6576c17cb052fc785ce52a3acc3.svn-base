webpackJsonp([14],{YpQ6:function(e,t,a){var n=a("no9j");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("680ac0aa",n,!0)},iQL7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("vLgD");var l={name:"userslist",data:function(){return{msgType:"",loading:!0,CurrentPage:1,total:0,list:[],listQuery:{page:1,limit:10,type:void 0}}},filters:{type:function(e){return{1:"全部",2:"普通消息",3:"霸屏",4:"礼物",5:"魔法棒",6:"红包",7:"未知类型"}[e]}},created:function(){this.geList()},methods:{deleteRow:function(e){var t=this;this.$confirm("您确认删除此条信息吗？","提示",{type:"warning"}).then(function(){var a;(a={id:e},Object(n.a)({url:"/user/delrecords",method:"get",params:a})).then(function(a){t.list.splice(e,1),t.$message({type:"success",message:a.data.msg,duration:2e3}),t.list.length||t.geList()})}).catch(function(e){return e})},geList:function(){var e,t=this;this.loading=!0,(e=this.listQuery,Object(n.a)({url:"/user/records",method:"get",params:e})).then(function(e){console.log(e),t.list=e.data.list,t.total=e.data.total,t.loading=!1})},handleChange:function(e){this.listQuery.page=e,this.geList()},handleSizeChange:function(e){this.CurrentPage=1,this.listQuery.page=1,this.listQuery.limit=e,this.geList()},selectType:function(e){1==+e&&(e=void 0),this.CurrentPage=1,this.listQuery.page=1,this.listQuery.type=e,this.geList()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userRecord"},[a("div",{staticClass:"tip"},[a("el-select",{staticClass:"rightSelect",attrs:{placeholder:"请选择消息类型"},on:{change:e.selectType},model:{value:e.msgType,callback:function(t){e.msgType=t},expression:"msgType"}},e._l(7,function(t){return a("el-option",{key:t,attrs:{value:t,label:e._f("type")(t)}})}))],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realname",label:"昵称"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.sex?"":"danger"}},[e._v(e._s(t.row.sex?"男":"女"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"avatar",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{staticClass:"avatar",style:{backgroundImage:"url("+e.row.avatar+")"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"group",label:"用户组"}}),e._v(" "),a("el-table-column",{attrs:{label:"消费类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.gift)+" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"effect",label:"特效时长"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendTime",label:"发送时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(a){a.preventDefault(),e.deleteRow(t.$index)}}},[e._v("删除")])]}}])})],1),e._v(" "),e.list.length?a("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":e.CurrentPage,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,total:e.total},on:{"update:currentPage":function(t){e.CurrentPage=t},"current-change":e.handleChange,"size-change":e.handleSizeChange}}):e._e()],1)},staticRenderFns:[]};var s=a("VU/8")(l,r,!1,function(e){a("YpQ6")},null,null);t.default=s.exports},no9j:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.userRecord .avatar {\n  width: 50px;\n  height: 50px;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 10px;\n  overflow: hidden;\n}\n.userRecord td > div {\n  white-space: nowrap;\n}\n.rightSelect {\n  float: right;\n}\n",""])}});