webpackJsonp([34],{BZ5D:function(e,t,i){var n=i("Nb/J");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("71af8826",n,!0)},"Nb/J":function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"",""])},sz0Q:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("vLgD");var l={name:"bullyscreen",data:function(){return{loading:!0,form:{video:!0,luck:!1},list:[],add:[{time:"",price:""}]}},created:function(){this.getList()},methods:{deleteRow:function(e,t){t.splice(e,1)},addItem:function(){this.add[0].time.toString().trim()&&this.add[0].price.toString().trim()?(this.list.push(this.add[0]),this.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})):this.$message({message:"请把信息输入完整",type:"warning",duration:2e3})},getList:function(){var e=this;this.loading=!0,Object(n.a)({url:"/user/bully",method:"post"}).then(function(t){console.log(t.data.list),e.loading=!1,e.list=t.data.list.map(function(t){return e.$set(t,"edit",!1),t.originalTime=t.time,t.originalPrice=t.price,t})}).catch(function(t){return e.loading=!1,t})},cancelEdit:function(e){e.time=e.originalTime,e.price=e.originalPrice,e.edit=!e.edit,this.$message({message:"您已经取消了",type:"warning",duration:2e3})},confirmEdit:function(e){e.originalTime=e.time,e.originalPrice=e.price,e.edit=!e.edit,this.$message({message:"修改成功",type:"success",duration:2e3})}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bullyScreen"},[i("el-form",{attrs:{model:e.form,"label-position":"right","label-width":"100px"}},[i("el-form-item",{attrs:{label:"霸小视频"}},[i("el-switch",{model:{value:e.form.video,callback:function(t){e.$set(e.form,"video",t)},expression:"form.video"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"新运霸屏"}},[i("el-switch",{model:{value:e.form.luck,callback:function(t){e.$set(e.form,"luck",t)},expression:"form.luck"}})],1)],1),e._v(" "),e._m(0),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list,border:""}},[i("el-table-column",{attrs:{label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[i("el-input",{attrs:{"prefix-icon":"el-icon-edit"},model:{value:t.row.time,callback:function(i){e.$set(t.row,"time",e._n(i))},expression:"scope.row.time"}})]:i("span",[e._v(e._s(t.row.time))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[i("el-input",{attrs:{"prefix-icon":"el-icon-edit"},model:{value:t.row.price,callback:function(i){e.$set(t.row,"price",e._n(i))},expression:"scope.row.price"}})]:i("span",[e._v(e._s(t.row.price))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button-group",[t.row.edit?[i("el-button",{attrs:{type:"warning",icon:"el-icon-refresh"},nativeOn:{click:function(i){i.preventDefault(),e.cancelEdit(t.row)}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"success",icon:"el-icon-circle-check-outline"},nativeOn:{click:function(i){i.preventDefault(),e.confirmEdit(t.row)}}},[e._v("保存")])]:[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},nativeOn:{click:function(e){e.preventDefault(),t.row.edit=!t.row.edit}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{type:"danger",icon:"el-icon-remove-outline"},nativeOn:{click:function(i){i.preventDefault(),e.deleteRow(t.row.$index,e.list)}}},[e._v("删除")])]],2)]}}])})],1),e._v(" "),e._m(1),e._v(" "),i("el-table",{attrs:{data:e.add,border:""}},[i("el-table-column",{attrs:{label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{model:{value:t.row.time,callback:function(i){e.$set(t.row,"time",e._n(i))},expression:"scope.row.time"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{model:{value:t.row.price,callback:function(i){e.$set(t.row,"price",e._n(i))},expression:"scope.row.price"}})]}}])}),e._v(" "),i("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},nativeOn:{click:function(t){t.preventDefault(),e.addItem(t)}}},[e._v("添加")])]}}])})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip"},[t("p",[this._v("霸屏信息列表")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip",staticStyle:{margin:"20px 0"}},[t("p",[this._v("添加霸屏信息")])])}]};var r=i("VU/8")(l,o,!1,function(e){i("BZ5D")},null,null);t.default=r.exports}});